@startuml
title "Публикация товара на витрине"
|Продавец|
start
:Заходит в раздел "Мои товары";
if (новый товар?) then (да)
-[#green,bold]->
:Создает анкету для нового товара;
-[#green,bold]->
:Заполняет анкету товара;
|Маркетплейс|
-[#green,bold]->
:Проверяет анкету;
while (анкета корректна?) is (нет)
:подсвечивает нужные поля;
|Продавец|
split
:Вносит изменения в анкету;
split again
:Нажимает кнопку "Сохранить черновик";
|Маркетплейс|
:Сохраняет черновик для дальнейшего редактирования;
end
end split

endwhile (да)
-[#green,bold]->
else (нет)

endif

|Продавец|
-[#green,bold]->
:Подтверждает публикацию нажатием кнопки "Опубликовать";
|Маркетплейс|
-[#green,bold]->
:Проводит премодерацию;
while (успешно?) is (нет)
:Присваивает статус "Отклонено"\nс разъяснительной информацией;
|Продавец|
split
:Редактирует анкету;
split again
:Удаляет анкету;
end
end split
endwhile (да) 
-[#green,bold]->
|Маркетплейс|
:Присваивает товару ID;
-[#green,bold]->
:Меняет статус публикации на "Опубликовано";
stop
@enduml